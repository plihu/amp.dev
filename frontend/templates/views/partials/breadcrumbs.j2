{# The breadcrumbs are straightened up. They just show the parent section
and the current page title #}
{% do doc.styles.addCssFile('css/components/molecules/breadcrumbs.css') %}
{% do doc.icons.useIcon('icons/angle-down-solid.svg') %}

{% if not doc.breadcrumbs == False %}
{% if doc.pod_path.startswith('/content/amp-dev/documentation/guides-and-tutorials') %}
<nav class="ap-m-breadcrumbs">
  {% set get_started = g.doc('/content/amp-dev/documentation/index.html', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ get_started.url.path }}">{{ _('Documentation') }}</a>

  {% if not doc.pod_path.startswith('/content/amp-dev/documentation/guides-and-tutorials/index.html') %}
    {% set guides_and_tutorials = g.doc('/content/amp-dev/documentation/guides-and-tutorials/index.html', locale=doc.locale) %}
    <span class="ap-m-breadcrumbs-divider">
      <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
    </span>

    {% if not doc.collection.bucket %}
      <a class="ap-m-breadcrumbs-crumb" href="{{ guides_and_tutorials.url.path }}">{{ _(guides_and_tutorials.titles('navigation')) }}</a>
    {% endif %}
    {% if doc.collection.bucket %}
      <div class="ap-m-breadcrumbs-crumb">{{ _(guides_and_tutorials.titles('navigation')) }}</div>
    {% endif %}

  {% endif %}

  {% if not doc.collection.bucket %}
  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <div class="ap-m-breadcrumbs-crumb">{{_(doc.collection.title)}}</div>
  {% endif %}
</nav>

{% elif doc.pod_path.startswith('/content/amp-dev/documentation/examples') %}
<nav class="ap-m-breadcrumbs">
  {% set get_started = g.doc('/content/amp-dev/documentation/index.html', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ get_started.url.path }}">{{ _('Documentation') }}</a>

  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  {% set examples = g.doc('/content/amp-dev/documentation/examples/index.html', locale=doc.locale) %}
  <div class="ap-m-breadcrumbs-crumb">{{ _(examples.titles('navigation')) }}</div>
</nav>

{% elif doc.pod_path.startswith('/content/amp-dev/documentation/components') %}
<nav class="ap-m-breadcrumbs">
  {% set get_started = g.doc('/content/amp-dev/documentation/index.html', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ get_started.url.path }}">{{ _('Documentation') }}</a>

  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  {% set components = g.doc('/content/amp-dev/documentation/components/index.html', locale=doc.locale) %}
  <div class="ap-m-breadcrumbs-crumb">{{ _(components.titles('navigation')) }}</div>
</nav>

{% elif doc.pod_path.startswith('/content/amp-dev/documentation/courses') %}
<nav class="ap-m-breadcrumbs">
  {% set get_started = g.doc('/content/amp-dev/documentation/index.html', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ get_started.url.path }}">{{ _('Documentation') }}</a>

  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  {% set courses = g.doc('/content/amp-dev/documentation/courses/index.html', locale=doc.locale) %}
  {% if not doc.collection.bucket %}
    <a class="ap-m-breadcrumbs-crumb" href="{{ courses.url.path }}">{{ _(courses.titles('navigation')) }}</a>
  {% endif %}
  {% if doc.collection.bucket %}
    <div class="ap-m-breadcrumbs-crumb">{{ _(courses.titles('navigation')) }}</div>
  {% endif %}


  {% if not doc.collection.bucket %}
  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <div class="ap-m-breadcrumbs-crumb">{{ _(doc.collection.title) }}</div>
  {% endif %}
</nav>

{% elif doc.pod_path.startswith('/content/amp-dev/documentation/index.html') %}
<nav class="ap-m-breadcrumbs">
  {% set get_started = g.doc('/content/amp-dev/documentation/index.html', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ get_started.url.path }}">{{ _('Documentation') }}</a>

  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  <div class="ap-m-breadcrumbs-crumb">{{ _(get_started.titles('navigation')) }}</div>
</nav>

{% elif doc.pod_path.startswith('/content/amp-dev/support') %}
<nav class="ap-m-breadcrumbs">
  {% set support = g.doc('/content/amp-dev/support/index.md', locale=doc.locale) %}
  <a class="ap-m-breadcrumbs-crumb" href="{{ support.url.path }}">{{ _('Support') }}</a>

  <span class="ap-m-breadcrumbs-divider">
    <svg class="ap-a-ico ap-m-breadcrumbs-angle"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down-solid"></use></svg>
  </span>

  {# Use breadcrumb title if it exists #}
  {% if doc.titles('breadcrumb') %}
    <div class="ap-m-breadcrumbs-crumb">{{ _(doc.titles('breadcrumb')) }}</div>
  {% else %}
    <div class="ap-m-breadcrumbs-crumb">{{ _(doc.title) }}</div>
  {% endif %}
</nav>
{% endif %}
{% endif %}
